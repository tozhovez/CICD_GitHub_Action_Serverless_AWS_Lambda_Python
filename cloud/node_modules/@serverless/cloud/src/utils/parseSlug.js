'use strict'

module.exports = (slug = '') => {
  let orgName, serviceName, instanceName
  const splittedSlug = slug.split('/')

  if (splittedSlug.length === 3) {
    // ie. @org/service/instance
    orgName = splittedSlug[0].replace('@', '')
    serviceName = splittedSlug[1]
    instanceName = splittedSlug[2]
  } else if (splittedSlug.length === 2) {
    if (splittedSlug[0].startsWith('@')) {
      // ie. @org/service
      orgName = splittedSlug[0].replace('@', '')
      serviceName = splittedSlug[1]
    } else {
      // ie. service/instance
      serviceName = splittedSlug[0]
      instanceName = splittedSlug[1]
    }
  } else if (splittedSlug.length === 1) {
    if (splittedSlug[0].startsWith('@')) {
      // ie. @org
      orgName = splittedSlug[0].replace('@', '')
    } else {
      // ie. instance
      instanceName = splittedSlug[0]
    }
  }

  return {
    orgName,
    serviceName,
    instanceName
  }
}
